---
import Button from "./reusables/Button.astro";
import { recentProjects, earlyProjects } from "../data/projects";
import ImageAnimated from "./reusables/ImageAnimated";

type Project = {
	title: string;
	description: string[];
	link: string;
	repo: string;
	tech: string[];
	img?: string;
};
---

<section class="pb-32">
	<h2 class="ml-4 lg:ml-0 text-3xl sm:text-4xl md:text-5xl font-bold mb-12 lg:mb-32">
		<span class="textGradient">Recent projects</span>
		<span class="font-light">(2013)</span>
	</h2>
	<div class="space-y-32">
		{
			recentProjects.map((item: Project) => (
				<div class="grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-8 items-center">
					<div class="w-full aspect-video lg:order-2 lg:col-span-2">
						<ImageAnimated image={item.img} link={item.link} client:visible />
					</div>
					<div class="ml-4 lg:ml-0 ">
						<div class="space-y-6">
							<div class="space-y-4">
								<h3 class="text-2xl font-bold textGradient">{item.title}</h3>
								<div class="space-y-2 max-w-prose">
									{item.description.map((desc) => (
										<p>{desc}</p>
									))}
								</div>
								<p>
									<span class="font-bold">Stack:</span> {item.tech.join(", ")}
								</p>
							</div>
							<div class="flex gap-4">
								<Button href={item.link} primary blank>
									Live website
								</Button>
								<Button href={item.repo} blank>Code</Button>
							</div>
						</div>
					</div>
				</div>
			))
		}
	</div>

	<div class="my-32">
		<h2 class="ml-4 lg:ml-0 text-4xl font-bold mb-12 lg:mb-20">
			Early projects <span class="font-normal">(X-XII 2022)</span>
		</h2>
		<div class="space-y-8 lg:space-y-0 lg:grid lg:grid-cols-3 lg:gap-6">
			{
				earlyProjects.map((item) => (
					<div>
						<div class="hidden lg:block w-full aspect-video">
							<ImageAnimated image={item.img} link={item.link} client:idle />
						</div>
						<div class="px-4 flex flex-col justify-between h-full max-h-[200px] lg:border border-t-0">
							<div class="py-2 space-y-4">
								<h3 class="text-2xl font-bold ">{item.title}</h3>
								<p class="">{item.decription}</p>
							</div>
							<div class="space-y-4">
								<p>
									<span class="font-bold">Stack:</span> {item.tech.join(", ")}
								</p>
								<div class="flex gap-4 pb-4">
									<Button href={item.link} primary blank>
										Live website
									</Button>
									<Button href={item.repo} blank>Code</Button>
								</div>
							</div>
						</div>
					</div>
				))
			}
		</div>
	</div>
</section>
